<?php
$helper = $this->layout()->_helper;
$skills = $this->skills;
?>
<style>
    ul#nav-left{margin:0;padding:7px 0;margin-bottom: 10px;list-style: none; border-top: 1px solid #bbb;border-bottom: 1px solid #bbb}
    ul#nav-left li{line-height: 35px;}
    ul#nav-left a{color: #777}
    ul#nav-left .active{color: #428bca}


        /****/

    .breadcrumb {
        width: 100%;
        /*centering*/
        padding:3px;
        border: 1px solid #ddd;
        display: inline-block;
        /*box-shadow: 0 0 15px 1px rgba(0, 0, 0, 0.35);*/
        /*overflow: hidden;*/
        /*border-radius: 5px;*/
        /*Lets add the numbers for each link using CSS counters. flag is the name of the counter. to be defined using counter-reset in the parent element of the links*/
        counter-reset: flag;
    }

    .breadcrumb a {
        font-weight: bold;
        text-align: center;
        text-decoration: none;
        outline: none;
        display: block;
        float: left;
        font-size: 12px;
        line-height: 36px;
        color: white;
        /*need more margin on the left of links to accomodate the numbers*/
        padding: 0 30px;
        background: #666;
        background: linear-gradient(#666, #333);
        position: relative;
    }
        /*since the first link does not have a triangle before it we can reduce the left padding to make it look consistent with other links*/
    .breadcrumb a:first-child {
        padding-left: 46px;
        border-radius: 5px 0 0 5px; /*to match with the parent's radius*/
    }
    .breadcrumb a:first-child:before {
        left: 14px;
    }
    .breadcrumb a:last-child {
        border-radius: 0 5px 5px 0; /*this was to prevent glitches on hover*/
        padding-right: 20px;
    }

        /*hover/active styles*/
    .breadcrumb a.active, .breadcrumb a:hover{
        background: #333;
        background: linear-gradient(#333, #000);
    }
    .breadcrumb a.active:after, .breadcrumb a:hover:after {
        background: #333;
        background: linear-gradient(135deg, #333, #000);
    }

        /*adding the arrows for the breadcrumbs using rotated pseudo elements*/
    .breadcrumb a:after {
        content: '';
        position: absolute;
        top: 0;
        right: -18px; /*half of square's length*/
        /*same dimension as the line-height of .breadcrumb a */
        width: 36px;
        height: 36px;
        /*as you see the rotated square takes a larger height. which makes it tough to position it properly. So we are going to scale it down so that the diagonals become equal to the line-height of the link. We scale it to 70.7% because if square's:
        length = 1; diagonal = (1^2 + 1^2)^0.5 = 1.414 (pythagoras theorem)
        if diagonal required = 1; length = 1/1.414 = 0.707*/
        transform: scale(0.707) rotate(45deg);
        /*we need to prevent the arrows from getting buried under the next link*/
        z-index: 1;
        /*background same as links but the gradient will be rotated to compensate with the transform applied*/
        background: #666;
        background: linear-gradient(135deg, #666, #333);
        /*stylish arrow design using box shadow*/
        box-shadow:
            /*2px -2px 0 2px rgba(0, 0, 0, 0.4),3px -3px 0 2px rgba(255, 255, 255, 0.1);*/
            2px -2px 0 2px #bbb,
            3px -3px 0 2px #eee;
        /*
            5px - for rounded arrows and
            50px - to prevent hover glitches on the border created using shadows*/
        border-radius: 0 5px 0 50px;
    }
        /*we dont need an arrow after the last link*/
    .breadcrumb a:last-child:after {
        content: none;
    }
        /*we will use the :before element to show numbers*/
    .breadcrumb a:before {
        /*content: counter(flag);*/
        /*counter-increment: flag;*/
        /*some styles now*/
        border-radius: 100%;
        width: 20px;
        height: 20px;
        line-height: 20px;
        margin: 8px 0;
        position: absolute;
        top: 0;
        left: 30px;
        background: #444;
        background: linear-gradient(#444, #222);
        font-weight: bold;
    }


    .flat a, .flat a:after {
        background: white;
        color: black;
        transition: all 0.5s;
    }
    .flat a:before {
        background: white;
        box-shadow: 0 0 0 1px #ccc;
    }
    .flat a:hover, .flat a.active,
    .flat a:hover:after, .flat a.active:after{
        background: #2a6496; color: #fff;
    }

        /****/
    .tree img{cursor: pointer}
</style>
<div class="container">

    <div class="row" style="padding-top: 40px;">
        <div class="col-md-3">
            <div class="well text-center">
                <div id="update-av" class="img-responsive img-thumbnail" style="height: 108px; width: 108px; background-position: center center; background-image: url(&quot;data:image/jpg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD//gA7Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcgSlBFRyB2ODApLCBxdWFsaXR5ID0gNzUK/9sAQwAIBgYHBgUIBwcHCQkICgwUDQwLCwwZEhMPFB0aHx4dGhwcICQuJyAiLCMcHCg3KSwwMTQ0NB8nOT04MjwuMzQy/9sAQwEJCQkMCwwYDQ0YMiEcITIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIy/8AAEQgAbABsAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A8FtVLXcKqCSXUADvzXXWGkajeXQit7KeWQgnaiEmsTQ9IvLrXtPgjRd73CAZYeor3vwj4W1PTNdS5uUiEYjYfK+TzXZRk6UXzHLUiqklY4XSvDGuxNL5mk3i5AxmI1vWnh/VxEc6bdfe/wCeZr0zVdTttHWJrssBISF2jPT/APXSaf4isLqBniaTaGxymOwpOvN62GqUVpc87/sDV/8AoG3P/fs0f2Bq/wD0Dbn/AL9mvWoZkniWVM7W6ZqSs/bvsX7FdzyH+wNX/wCgbc/9+zSHQdWHXTrkf9szXr9Zus6pbaVbRy3RYK77RtXPOKarybskDpJdTzIaFqzdNOuT/wBszS/2Bq//AEDbn/v2a9C0/wAR6fdRu0TSYU4OUxWvBOlzEJY87T6im60luhKlF9Txabw3rZaQjSrs5J/5ZGuUuvDOuW9rJLNpN4kajLM0RAAr6YPSsXXtPnvNCvLaEKZJI9q5OBmqhiWnsTKgrbnyxq9tNDaK0kTqN4GSPY1iV6h478J6rYaDHPPHFs+0KPlkB7NXnP8AZ9z/AHB/30KmspVJ80Vcqk1CNpM7zwjZn/hL9I+cf8fUfb3r6PhtjFJu3Z49K+fPCI/4q/SP+vqP+dfRdXi37yJwy0ZxfxC/1Fh/vP8AyFcMvi6PQB9lazaYv+83CTbjPGOntXpfivT4r+K1ErONhbG0j29q8U8eW6adrkEMJZla2Vsvyc7mHb6U8OoySixVm4vmR7Z4b1tdR8PWd2ICgkUnaWzj5iK6AHKg+teBaJ491TS9HtrKC3s2jiBCl0YnqTzhh617hZXck9nbyMFBeNWOPcCsa1JwZrSqKSL1cl4//wCQTbf9d/8A2U11tYPiqxiv7GGOVnAWXI2kehrOm7STLmrxZ5gvilPD+YmtGm835sh9uO3pXo3hPX11Tw9BdrbmMMzjaWzjDEeleQeP7SPTb6zSEsweMk7znv7VJ4e8c6no+jxWVvBaNGjMQZEYnk57MK7Z0lOCcdzljU5ZWZ9AI29FbpkZokXfGy5xmszR9QlvNFsLmRUDzW8cjBQcAlQTjn3rVrgaszrTued/FeyI8Hp84/4+k7ezV4l9jP8AfH5V7x8V/wDkUE/6+k/k1eJ4r0cK/wB2cWIXvm14R/5G/SP+vqP+dfRdfOnhH/kb9I/6+o/519F1hi/iRthvhZFPbQ3AAlQNt6ZriPFnhrR7zVIpLiyR3EIUEs3Tc3vXeUxo43OXRWPqRmueE3F3RtKKkj5h8Roun6/d2tqPKgjYBEHOPlB713WieKNae8063a/cxGSJCu1fu5Ax0rq9b0kS6xcuunhwWHzCHOeB7V4w1tqEOrs/k3KIk+d2xgFAb9K9CLVWNmcck6b0PqOopreK4ULKgYA5AryjwXqbXHi2xiN8ZQ3mfJ5u7P7tu2a9crgqQcHY64S51c4jxb4c0m8urZriyVyqEAlm45+teN+KoI9M1+a1sl8mBVUhBzjKgnrX0y0aOcuit9RmuK8Q6Ws2sSutgJAQvzCHPYe1bUK3K7Myq0r6o4PSPFGtR2djAl+4jWONAu1eAABjpXudfL+qWeoR67ehLa5VFuXxhGAA3Gu98L6o03ibT4zfmQNKBt87OePTNaVqKa5kRSqNOzOq+K3/ACKCf9fSfyavFK9r+K3/ACKCf9fSfyavFKvC/wAMmv8AGbPhH/kb9I/6+o/519F186eEf+Rv0j/r6j/nX0XWOL+JGuH+FhRRRXIdAV45rd7bmLUU8z5tsoxtPXmvQNR8ZWem38tnJbzs8RALLjB4z6+9eKXeuQX19PbxxSK08jIpbGAWOOfzrrw9N7s5601sh3ww/wCSi6V/22/9FPX0ZXiPgHwrdab420+7lnhZI/MyFzk5jYenvXt1LFyTmrdh4dNR1Ciiue1XxbaaTfvZy287ugBLJjHIz61zKLlojZtLc4nW723XU9RQyfMJpQRtPXca8/8AAX/I96P/ANfA/kav6x4ktrnW78rDKPMuZMZxxlj71o+D/CN3Y+LtMunuIGWOYMQucng+1ekkoQd+xwt801Y774rf8ign/X0n8mrxSva/it/yKCf9fSfyavFKnC/wyq/xmz4R/wCRv0j/AK+o/wCdfRdfOnhH/kb9I/6+o/519F1ji/iRrh/hYVzmv+JJtHv0t47dJA0QfLEjuR/SrXiDULmwjgNu4UuSDlQfSvH/AB54m1RdcgAnX/j2X/lmP7ze1Z0aXOy6tTlRU8S+L7iTxDeObWMZYfxH+6KZpnhiG41OzlNxIDJMjEADjLA1mx20WpRi8ugWml5Yg4z26D6V7rpnhPR47WznW3cSKiOD5jdQAfWuqpNUopI5oQdR3ZPp/hmHT76O6S4kdkzhSBg5BH9a3aKydfvp7C0jkt2Csz4OQDxg1wayZ26RRV8QeIJdGnhjjgSQSKWJYkY5ryHxb4vuJfEM7m1iGVT+I/3RVvx/4l1Rb6zxOv8Aqj/yzHr9K5mKJNWjF5eDfM/BIOOnA4Fd1GkormZx1ajk7It2/h6K/kivGndGuCJSoAwC3OP1r2+z8LQWd5FcLcyMY2yAVHNUdC8I6O+haZMbd95tomJ8xuu0H1rra561Zy0RvSpcurOG+K3/ACKCf9fSfyavFK9r+K3/ACKCf9fSfyavFK6cL/DMK/xmz4RI/wCEv0j/AK+o/wCdfRdfMvhOeKHxbpMkjhUW6jJJ7DNfRdpqljdziKC5jkkwTtWssWnzI0wz0Zznj+R0gsdjsuWfO047CvLNYga6u0d4jMRGBuZd2OTxXr/jCwur6K0FrA8pRm3be3Sl8MWF1Z6bJHcQNG5mLAN6YWpp1FCFxzhzSsZvhHRdNk8K2DTaZaNIUbcXgUk/MeuRXaoqpGqqAFAAAHQURgiMA9adXPKTk7m0Y2QVynjx3TSrYozKfP7HH8Jrq657xdZXN9p8CW0LSssuSF7DBp03aSCfws8d1mF7uaJnjaYqpGWXdivRfA+i6fJ4Vt2uNMtWkLvkyQKT94+orV8Ladd2dtcLcQPGWcEBu/FdNECIwD1rarWuuVGVOnrzMSGNIoI440VERQqqowAAOABUlFRzzRwQvLK4SNRlmPauY3OK+K3/ACKCf9fSfyavE8j1r1r4p6rY3fhJI4LlJH+1IcD0w1eL719a9LDR9w4a798raXrFtBqtrK6ybVlUnAHr9a9Y8L+NtKg1pXdbnGxhwg/xrwu2/wCPmL/fH867DQ/+Qkv+6amm3Wi3Mqa9lJKJ9CWnjfSr0sIluflxncgH9atf8JPYf3Zv++R/jXmPh/8A1k/0H9a3awlSimaqo2jsf+EnsP7s3/fI/wAaP+EnsP7s3/fI/wAa46il7OI+dnY/8JPYf3Zv++R/jR/wk9h/dm/75H+NcdRR7OIc7Ox/4Sew/uzf98j/ABo/4Sew/uzf98j/ABrjqKPZxDnZ2B8UaeATtm4/2B/jXPa38QNGl0W7RVuslMDMY/xrOf7jfQ1wGp/8g2f/AHa0p0YtkTqySKnifxPYXelLFEs27zQeVA7H3rj/AO04P7sn5D/GjU/+PZf98fyNZNVWrSpS5Yk06cakeaR//9k=&quot;); display: inline-block;"></div>

                <p class="text-muted small"></p>
                <div style="text-align: center; "><span class="label label-default">Click to Add / Edit</span></div>

            </div>
            <a href="#">andybui@vsnr.com</a><br/>
            <strong>View my profile</strong> <br/>
            <span><img src="data:image/jpg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCAANABUDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwDhv+EO8T/9C5q//gDL/wDE16jpWjSxaPYxz6O6zLbxq4fTCWDBRnOdPbnP+031PWud/wCEs0v/AKAf/jll/wDIlH/CWaX/ANAP/wAcsv8A5EroxuZPFRUWrWPrcHkOIw0nLe/p/mdd/ZP/AFCf/KZ/97aK5H/hLNL/AOgH/wCOWX/yJRXn8yPQ/s/Efy/iv8z/2Q=="/>
                United State, San Diego, CA
            </span>
            <span><strong>Expected Salary: 60-65k</strong></span><br/>
            <p style="padding: 10px 0">
                <i class="lbl-log">Edit</i>
            </p>
            <ul id="nav-left">
                <li><a href="<?=$helper->url('profile-builder?utm_source=contact','candidate');?>" class="active"><strong>Profile builder</strong></a></li>
                <li><a href="<?=$helper->url('profile','candidate');?>">Overview</a></li>
                <li><a href="<?=$helper->url('contact-info','candidate');?>">Contact Info</a></li>
				<li><a href="<?=$helper->url('employment','candidate');?>">Employment</a></li>
                <li><a href="<?=$helper->url('portfolio','candidate');?>">Portfolio</a></li>
                <li><a href="<?=$helper->url('vieweducation','candidate');?>">Education</a></li>
                <li><a href="#">Skills</a></li>
                <li><a href="#">References</a></li>
                <li><a href="#">Tests</a></li>
                <li><a href="#">Interest</a></li>
            </ul>
            <p>Last signed: Nov,8,2014</p>
        </div>
        <div class="col-md-9">
            <div class="page-header" style="color: #2a6496 ;margin-top:0">
                <h2  style="color: #2a6496 ;margin-top:0"><span class="glyphicon glyphicon-briefcase"></span> <strong>Profile Builder</strong></h2>
            </div>
            <div class="panel panel-default">
                <div class="panel-body">

                    <div class="breadcrumb flat">
                        <a href="<?=$helper->url('profile-builder?utm_source=contact','candidate');?>" <?=$this->step =='contact'? 'class="active"':'';?>>Contact Info</a>
                        <a href="<?=$helper->url('profile-builder?utm_source=education','candidate');?>" <?=$this->step =='education'? 'class="active"':'';?>>Education</a>
                        <a href="<?=$helper->url('profile-builder?utm_source=employment','candidate');?>" <?=$this->step =='employment'? 'class="active"':'';?>>Employment</a>
                        <a href="<?=$helper->url('profile-builder?utm_source=skills','candidate');?>"  <?=$this->step =='skills'? 'class="active"':'';?>>Skills</a>
                        <a href="<?=$helper->url('profile-builder?utm_source=portfolio','candidate');?>" <?=$this->step =='portfolio'? 'class="active"':'';?>>Portfolio</a>
                        <span class="pull-right" style="position: relative;vertical-align: bottom;font-weight: bold;margin: 7px 10px auto auto"><?=$this->stepCount;?></span>
                    </div>

                    <?php
                        //$list = $this->list;
                        foreach($skills as $key=>$tree){
                            //echo '<pre>';print_r($skills);echo '</pre>';
                    ?>
                    <div class="col-md-4" style="margin:0;padding:0">
                    <div class="tree">
                            <ul><li>
                                <img data-status="select" class="img-parent" src="<?=URL_THEMES;?>images/trees/ico_colapse.png">
                                <a href=""><strong><?=$tree['SkillName_dad'];?></strong> </a>
                                    <?=sizeof($tree['ParentSkillID']) > 0 ? '<span><img class="img-toggle" src="'.URL_THEMES.'images/trees/ico_sub_sm.png"/></span>':'<span><img src="'.URL_THEMES.'images/trees/ico_add_sm.png"/></span>'?>
                                    <?php if(!empty($tree['ParentSkillID']) && sizeof($tree['ParentSkillID']) > 0){ ?>
                                            <ul>
                                        <?php foreach($tree['ParentSkillID'] as $item){ ?>
                                                <li>
                                                <span><img data-status="select" class="img-item" src="<?=URL_THEMES;?>images/trees/ico_colapse_sm.png"></span> <a href=""><?=$item['SkillName'];?></a>
                                                </li>
                                     <?php } ?>
                                    </ul>
                                     <?php } ?>
                            </li>
                        </ul>
                    </div></div>
                    <?php
                        }
                    ?>
                <div class="col-md-12">
                    <div style="margin-top: 30px">
                        <button id="cmd-back" data-back="employment" class="btn btn-default" type="button"><strong>Back</strong></button> &nbsp;
                        <button class="btn btn-default disabled" type="button"><strong>Skip</strong></button> &nbsp;
                        <button id="cmd-next" type="button" data-next="portfolio" class="btn btn-success" type="button"><strong>Next</strong></button>
                    </div>
                </div>
                </div>
            </div>
        </div>
    </div>
</div>
<style type='text/css'>

    .tree {
        font-size: 12px;
        text-align: left;margin:0;padding:0;
    }
    .tree li {
        list-style-type:none;
        position:relative
    }
    .tree li::before, .tree li::after {
        content:'';
        left:-27px;
        position:absolute;
        right:auto
    }
    .tree li::before {
        border-left:1px dotted #999;
        bottom:50px;
        height:100%;
        top:0;
        width:1px
    }
    .tree li::after {
        border-top:1px dotted #999;
        height:20px;
        top:15px;
        width:25px
    }
    .tree li span {
       /*border-radius: 50%;
        border:1px dotted #999;
        display:inline-block;
        padding: 5px;
        text-decoration:none;
        color: #2a6496;*/
    }
    .tree li.parent_li>span {
        cursor:pointer
    }
    .tree>ul>li::before, .tree>ul>li::after {
        border:0
    }
    .tree li:last-child::before {
        height:30px
    }
    .tree li.parent_li>span:hover, .tree li.parent_li>span:hover+ul li span {
        background:#eee;
        border:1px dotted #94a0b4;

    }
    .tree .ico-expand{
        font-size: 11px !important;
        border-radius: 50%;
        border:1px dotted #999;
        display:inline-block;
        padding: 2px;
        text-decoration:none;
        color: #2a6496;
    }
    .tree .ico-colapse{
        border-radius: 50%;
        border:1px dotted #999;
        display:inline-block;
        padding: 5px;
        text-decoration:none;
        color: #2a6496;
    }
</style>

<script src="<?=URL_THEMES;?>js/pocket.candidate.js"></script>
 <script>
     var prCandidate= new pocketCandidate();
     prCandidate.editSkills('<?=URL_THEMES;?>');
</script>